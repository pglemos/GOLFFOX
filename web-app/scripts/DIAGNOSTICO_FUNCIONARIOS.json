{
  "timestamp": "2025-11-07T01:29:54.515Z",
  "checks": [
    {
      "name": "Conexão com banco",
      "status": "OK",
      "details": "Conectado com sucesso"
    },
    {
      "name": "Tabela gf_employee_company",
      "status": "OK",
      "details": "Tabela existe"
    },
    {
      "name": "Colunas da tabela",
      "status": "OK",
      "details": "Todas as colunas necessárias existem"
    },
    {
      "name": "Dados na tabela",
      "status": "OK",
      "details": "42 funcionários cadastrados"
    },
    {
      "name": "RLS na tabela",
      "status": "OK",
      "details": "Row Level Security está ATIVADO"
    },
    {
      "name": "Policies RLS",
      "status": "OK",
      "details": "5 policies encontradas"
    },
    {
      "name": "Função company_ownership",
      "status": "OK",
      "details": "Função existe"
    },
    {
      "name": "Teste da função",
      "status": "OK",
      "details": "Retornou: false"
    },
    {
      "name": "Tabela gf_user_company_map",
      "status": "OK",
      "details": "Tabela existe"
    },
    {
      "name": "Mapeamentos cadastrados",
      "status": "OK",
      "details": "2 mapeamentos user→empresa"
    },
    {
      "name": "View v_operator_employees_secure",
      "status": "OK",
      "details": "View existe"
    },
    {
      "name": "View v_operator_employees",
      "status": "OK",
      "details": "View existe"
    },
    {
      "name": "View v_my_companies",
      "status": "OK",
      "details": "View existe"
    }
  ],
  "errors": [],
  "warnings": [
    "Nenhuma empresa operadora encontrada",
    "Query de teste não retornou resultados"
  ],
  "recommendations": [
    "Execute: node scripts/seed-operator-data.js",
    "Cadastre funcionários para a empresa 11111111-1111-4111-8111-1111111111c1"
  ]
}